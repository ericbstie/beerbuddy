[tools]
bun = "latest"
"npm:playwright" = "latest"

[tasks.setup]
description = "Set up the development environment (install dependencies, generate Prisma client) - does not start servers"
run = [
  "mise install",
  "cd backend && bun install",
  "cd backend && bunx prisma generate",
  "cd frontend && bun install"
]

[tasks.seed]
description = "Seed the database with test data"
dir = "backend"
run = "DATABASE_URL=postgresql://beerbuddy:beerbuddy@localhost:5432/beerbuddy bun run prisma db seed"

[tasks.start]
description = "Start Docker containers (rebuilds and removes volumes)"
run = [
  "docker compose down -v",
  "docker compose up --build -d"
]
